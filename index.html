<!DOCTYPE html>

<html>

  <head>
    <meta charset="UTF-8">
    <title>JavaScript</title>

    <style type="text/css">
        body {
            background-color: white;
        }
    </style>

  </head>

  <body>
    <canvas id = "canvas" width="500" height="500" style="border:1px solid #0f0004">
      </canvas>
    <script type="text/javascript">
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext("2d");
        
        var ball = 
            {
                y : 250,
                r : 3,
                vx : 1,
                vy : 1,
                x : 250,
                ax : 0.5,
                ay : 0.1,
                
                draw : function()
                {
                    ctx.clearRect(0,0, canvas.width, canvas.height);
                    ctx.beginPath();
                    ctx.fillStyle = "red";
                    ctx.arc(ball.x, ball.y, ball.r, 0, 2 *Math.PI);
                    ctx.fill();
                }
        
                ,move : function()
                {
                    ball.vy += ball.ay;
                    ball.y += ball.vy;
                    ball.x += ball.vx;
                    if(ball.y >= canvas.height - ball.r)
                    {
                        ball.vy = - ball.vy;
                    }
                    if (ball.x >= canvas.height - ball.r)
                    {
                        ball.vx = - ball.vx;
                    }

                    if (ball.y <= ball.r)
                    {
                        ball.vy = - ball.vy;
                    }

                    if (ball.x <= ball.r)
                    {
                        ball.vx = - ball.vx;
                    }
                    
                    if (ball.y >= paddle.y - ball.r)
                    {
                        ball.vy = - ball.vy;
                    }
                    
                    if (ball.x >= paddle.x - ball.r)
                    {
                        ball.vx = ball.vx;
                    }
                 }
            }
        
        var bricks = [
            [1,1,1,1,1,1,1,2],
            [1,1,3,1,0,1,1,1],
            [2,1,2,1,2,1,0,1],
            [1,2,1,1,0,3,1,1]
        ];
        
        
        var paddle =
            {
                x: 250,
                y: 450,
                h: 20,
                w: 70,
                
                draw : function()
                {
                    ctx.fillStyle = "blue"
                    ctx.fillRect(this.x,this.y,this.w,this.h);
                    
                    window.addEventListener("keydown", function(event) { 
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
        
                    if (event.keyCode == 39 && paddle.x < canvas.width - paddle.w)
                    paddle.x += Math.min(1, canvas.width - paddle.x - paddle.w);
                    else if (event.keyCode == 37 && paddle.x > paddle.w)
                      paddle.x -= 1;
                    else if (event.keyCode == 40 && paddle.y < canvas.height - paddle.w)
                      paddle.y += 1;
                    else if (event.keyCode == 38 && paddle.y > paddle.w)
                      paddle.y -= 1;
                    })
                }
            }
        
        function step()
        {
            ball.draw();
            ball.move();
            paddle.draw();
            window.requestAnimationFrame(step);
        }
        step();
        /*function repeatme()
        {
            
            
            
            ctx.fillStyle = "blue";
            ctx.fillRect(bricks.x,bricks.y,bricks.w,bricks.h);
            
            ctx.fillStyle = "pink"
            ctx.fillRect(paddle.x,paddle.y,paddle.w,paddle.h);
        
           
            
            window.requestAnimationFrame(repeatme)
        }*/
        
        //repeatme();
    </script>

  </body>

</html>
